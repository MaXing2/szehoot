<h1>Tesztfolyamatok</h1>
<table     
id="table-processlist"
data-toggle="table"
data-mobile-responsive="true"
data-search="true"
data-pagination="true"
data-page-number="1"
data-page-size="10"
data-sortable="true"
data-pagination-parts="[pageList, pageInfo]">
  <thead>
    <tr>
      <th data-field="id" data-sortable="true">ID</th>
      <th data-field="test_name" data-sortable="true">Teszt neve</th>
      <th data-field="start_date" data-sortable="true">Indítás dátuma</th> 
      <th data-field="end_date" data-sortable="true">Befejezés dátuma</th>
      <th data-field="online_count" data-sortable="true">Online</th>
      <th data-field="fullfilled" data-sortable="true">Kitöltések</th>
      <th data-field="status" data-sortable="true">Állapot</th>
    </tr>
  </thead>
  <tbody>
<% if (process_data[0].length > 0) { %>
  <% for(var i=0; i<process_data[0].length; i++) {%>
          <tr>
              <td id="t-1"><%= process_data[0][i].process_id %></td>
              <td id="t-2"><%= process_data[0][i].test_name %></td>
              <td id="t-3"><%= moment(process_data[0][i].start_date).format("YYYY.MM.DD HH:mm");  %></td>
              <% if (process_data[0][i].end_date == "0000-00-00 00:00:00") { %>
              <td id="t-4"> Határozatlan
              <% }  else { %>
              <td id="t-4"> <%= moment(process_data[0][i].end_date).format("YYYY.MM.DD HH:mm");  %>
                <% } %>
              </td>
              <td id="t-5"><%= process_data[0][i].online_count %></td>
              <% fullfilled_value = 0; %>
              <% if (fullfilledCount[0].length > 0) { %>
                <% var found = false; %>
                <% var j = 0; %>
                <% while (!found && j < fullfilledCount[0].length) { %>
                  <% if (fullfilledCount[0][j].process_id == process_data[0][i].process_id) { %>
                    <% fullfilled_value = fullfilledCount[0][j].fullfilledCount; %>
                    <% found = true; %>
                  <% } %>
                <% j++; } %>
              <% } %>
               <td><%= fullfilled_value %></td>
              <%var time_courrent_dif_end = moment.duration(moment(new Date(), "YYYY.MM.DD HH:mm").diff(moment(process_data[0][i].end_date, "YYYY.MM.DD HH:mm")));%>
              <%var time_courrent_dif_start = moment.duration(moment(new Date(), "YYYY.MM.DD HH:mm").diff(moment(process_data[0][i].start_date, "YYYY.MM.DD HH:mm")));%>
              <% if (time_courrent_dif_end.asSeconds() >= 0) { %> 
                <td class="col-sm-1"><span class="iconify" data-icon="carbon:dot-mark" style="color: red;"></span>
              <% } else { %>
                <% if (time_courrent_dif_start.asSeconds() >= 0) { %>
                  <td class="col-sm-1"><span class="iconify" data-icon="carbon:dot-mark" style="color: green;"></span>
                  <% } else { %>
                    <td class="col-sm-1"><span class="iconify" data-icon="carbon:dot-mark" style="color: orange"></span
                      <% } %>
                  <% } %>
              </td>

          </tr>
  <% } %>
<% } %>
  </tbody>
</table>